import { useEffect } from "react";
// @ts-ignore
import { MovieCard } from "../../common/MovieCard/MovieCard.tsx";
import { useDispatch, useSelector } from "react-redux";
// @ts-ignore
import type { AppDispatch, RootState } from "../../../store/store.ts";
// @ts-ignore
import { getAllMovies } from "../../../slices/moviesSlice.ts";

type Movie = {
    id: number;
    title: string;
    description: string;
    // Add other properties as needed
};

export function Home() {
    const dispatch = useDispatch<AppDispatch>();
    const { list } = useSelector((state: RootState) => state.movies);

    useEffect(() => {
        dispatch(getAllMovies());
        // Fetch all available movie listings
    }, []);

    return (
        <div className="min-h-screen py-8 bg-gradient-to-b from-black via-gray-900 to-gray-800">
            <h1 className="text-4xl font-bold text-center text-white mb-10 tracking-wide">
                ðŸŽ¥ Now Showing at GrandReel Cinemas
            </h1>
            <div className="flex flex-wrap justify-center items-center gap-6 px-4">
                {
                    list.map((movie: Movie) => (
                        <MovieCard key={movie.id} data={movie} />
                    ))
                }
            </div>
        </div>
    );
}